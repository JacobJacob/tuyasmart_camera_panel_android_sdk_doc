
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Timer task Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Group.html" />
    
    
    <link rel="prev" href="Shared_Device_Rename.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_Sdk_Update.html">
            
                <a href="User_Sdk_Update.html">
            
                    
                    SDK account upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_mobile.html">
            
                <a href="User_mobile.html">
            
                    
                    Use Mobile Phone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_email.html">
            
                <a href="User_email.html">
            
                    
                    Use Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_uid.html">
            
                <a href="User_uid.html">
            
                    
                    User uid Login System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_Third_Login.html">
            
                <a href="User_Third_Login.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_Logout.html">
            
                <a href="User_Logout.html">
            
                    
                    Modify user information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="User_Logout.html">
            
                <a href="User_Logout.html#log-out-of-the-login-interface">
            
                    
                    Sign out
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="User_Logout.html">
            
                <a href="User_Logout.html#disable-account-deregister-user">
            
                    
                    Disable account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="User_Data_Model.html">
            
                <a href="User_Data_Model.html">
            
                    
                    Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Home_Manager.html">
            
                <a href="Home_Manager.html">
            
                    
                    Home management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Home_Manager.html">
            
                <a href="Home_Manager.html">
            
                    
                    Home Management Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Home_Option.html">
            
                <a href="Home_Option.html">
            
                    
                    Operation Class of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="Home_Member.html">
            
                <a href="Home_Member.html">
            
                    
                    Home Member Management Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="Room.html">
            
                <a href="Room.html">
            
                    
                    Room information management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Activator.html">
            
                <a href="Activator.html">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Activator_Wifi.html">
            
                <a href="Activator_Wifi.html#ez-mode-configuration">
            
                    
                    EZ Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Activator_Wifi.html">
            
                <a href="Activator_Wifi.html#ap-mode-configuration">
            
                    
                    AP Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Activator_Zigbee.html">
            
                <a href="Activator_Zigbee.html">
            
                    
                    ZigBee Gateway Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="Activator_ZigbeeSub.html">
            
                <a href="Activator_ZigbeeSub.html">
            
                    
                    ZigBee Sub-device Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Device.html">
            
                <a href="Device.html">
            
                    
                    Device Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Device.html">
            
                <a href="Device.html#function-points-of-device">
            
                    
                    Function Points of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Device.html">
            
                <a href="Device.html#device-renaming">
            
                    
                    Device Renaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="Device.html">
            
                <a href="Device.html#obtain-wifi-signal-strength-of-device">
            
                    
                    Obtain Wifi signal strength of device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="OTA.html">
            
                <a href="OTA.html">
            
                    
                    Firmware upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="Gateway.html">
            
                <a href="Gateway.html">
            
                    
                    Gateway
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Shared.html">
            
                <a href="Shared.html">
            
                    
                    Shared devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Shared_Device_add.html">
            
                <a href="Shared_Device_add.html">
            
                    
                    Add for Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Shared_Device_Remove.html">
            
                <a href="Shared_Device_Remove.html">
            
                    
                    Removing Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Shared_Device_Rename.html">
            
                <a href="Shared_Device_Rename.html">
            
                    
                    Modifying Remark Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.10" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="Group_wifi.html">
            
                <a href="Group_wifi.html">
            
                    
                    Wifi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="Group_zigbee.html">
            
                <a href="Group_zigbee.html">
            
                    
                    Zigbee Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="Group_control.html">
            
                <a href="Group_control.html">
            
                    
                    Group Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Smart">
            
                    
                    Smart scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Scene_operation">
            
                    
                    Scene operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Device_Data_Channel.html">
            
                <a href="Device_Data_Channel.html">
            
                    
                    Device data channel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="MessagePush.html">
            
                <a href="MessagePush.html">
            
                    
                    Message push switch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Feedback.html">
            
                <a href="Feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="BLE_Prepare.html">
            
                <a href="BLE_Prepare.html">
            
                    
                    BLE Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="BLE_Activator.html">
            
                <a href="BLE_Activator.html">
            
                    
                    BLE Scan And Activator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="BLE_Operator.html">
            
                <a href="BLE_Operator.html">
            
                    
                    BLE Device Operate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="BLE_OTA.html">
            
                <a href="BLE_OTA.html">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="Push_fcm.html">
            
                <a href="Push_fcm.html">
            
                    
                    FCM Push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="Push_umeng.html">
            
                <a href="Push_umeng.html">
            
                    
                    Umeng
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="Mesh.html">
            
                <a href="Mesh.html">
            
                    
                    Bluetooth Mesh (TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="Mesh_Prepare.html">
            
                <a href="Mesh_Prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="Mesh_IDEA.html">
            
                <a href="Mesh_IDEA.html">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="Mesh_Admin.html">
            
                <a href="Mesh_Admin.html">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="Mesh_Config.html">
            
                <a href="Mesh_Config.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="Mesh_Device.html">
            
                <a href="Mesh_Device.html">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="Mesh_Group_Operate.html">
            
                <a href="Mesh_Group_Operate.html">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="Mesh_Device_Operate.html">
            
                <a href="Mesh_Device_Operate.html">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.8" data-path="Mesh_OTA.html">
            
                <a href="Mesh_OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="Mesh.html">
            
                <a href="Mesh.html">
            
                    
                    Bluetooth Mesh (SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.21.1" data-path="SigMesh_Prepare.html">
            
                <a href="SigMesh_Prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.2" data-path="SigMesh_IDEA.html">
            
                <a href="SigMesh_IDEA.html">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.3" data-path="SigMesh_Admin.html">
            
                <a href="SigMesh_Admin.html">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.4" data-path="SigMesh_Config.html">
            
                <a href="SigMesh_Config.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.5" data-path="SigMesh_Device.html">
            
                <a href="SigMesh_Device.html">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.6" data-path="SigMesh_Group_Operate.html">
            
                <a href="SigMesh_Group_Operate.html">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.7" data-path="SigMesh_Device_Operate.html">
            
                <a href="SigMesh_Device_Operate.html">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.8" data-path="SigMesh_OTA.html">
            
                <a href="SigMesh_OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="Problems.html">
            
                <a href="Problems.html">
            
                    
                    Frequently Asked Questions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.24.1" data-path="Update_3_14_0.html">
            
                <a href="Update_3_14_0.html">
            
                    
                    3.13.0 Upgrade 3.14.x Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Timer task</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="timer-task">Timer task</h1>
<p>Tuya Smart provides basic timing capabilities, and supports devices (including WiFi devices, Bluetooth mesh sub-devices and zigbee sub-devices) and groups. It is also provided with the interface for addition, deletion, change and querying of timer information for dp points of the device. After the APP sets the timer information through the timing interface, the hardware module automatically performs the scheduled operation according to the timing requirements. Multiple timers can be included in each timer task, as shown in the figure below:</p>
<p><img src="images/android-sdk-timer.jpg" alt=""></p>
<p>All methods related to timing are included in TuyaHomeSdk.getTimerManagerInstance().</p>
<p>The taskName is used by multiple interfaces, which can be described as a group, and a group may include multiple timers. Each timer task belongs to or does not belong to a group, and the group is currently only used for presentation.</p>
<h2 id="adding-timer">Adding Timer</h2>
<p><strong>[Description]</strong></p>
<p>Add one timer.</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
*  Add a single dp point of timer (default: true); the sub-device is supported.
*  <span class="hljs-doctag">@param</span> taskName     name of timer task
*  <span class="hljs-doctag">@param</span> loops        number of loops: &quot;0000000&#x201D;; 0 denotes off, and 1 denotes on. Each 0 from the left to the right denotes: Sunday, Monday, Tuesday, Wednesday, Thursday, Friday and Saturday, respectively.
*  <span class="hljs-doctag">@param</span> devId        device Id or group Id
*  <span class="hljs-doctag">@param</span> dpId              id of dp point
*  <span class="hljs-doctag">@param</span> time         time clock in a timer task
*  <span class="hljs-doctag">@param</span> callback     callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addTimerWithTask</span><span class="hljs-params">(String taskName, String loops, String devId, String dpId, String time, <span class="hljs-keyword">final</span> IResultStatusCallback callback)</span></span>;


<span class="hljs-comment">/**
 * Add a timer          the new interface of a device is supported.
 * Meanings of other parameter values are the same as above.
 * <span class="hljs-doctag">@param</span> dps    key-value pair of dp point; key: dpId; value: dpValue (only a single dp point is supported)
 * <span class="hljs-doctag">@param</span> callback
 */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addTimerWithTask</span><span class="hljs-params">(String taskName, String devId, String loops, Map&lt;String, Object&gt; dps, String time, <span class="hljs-keyword">final</span> IResultStatusCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().addTimerWithTask(&quot;task01&quot;, &quot;1111111&quot;,mDevId,  &quot;1&quot;, &quot;14:29&quot;, new IResultStatusCallback() {
    @Override
    public void onSuccess() {
        Toast.makeText(mContext, &#x201C;adding timer tasks succeeded&quot;, Toast.LENGTH_LONG).show();
    }
    @Override
    public void onError(String errorCode, String errorMsg) {
        Toast.makeText(mContext, &quot;adding timer tasks failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
    }

});
</code></pre>
<h3 id="obtaining-states-of-all-timer-tasks-of-a-certain-device">Obtaining States of All Timer Tasks of a Certain Device</h3>
<p><strong>[Description]</strong></p>
<p>Obtain states of all timer tasks of a certain device.</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
* Obtain states of all timer tasks of a certain device.
*
* <span class="hljs-doctag">@param</span> devId    device Id
* <span class="hljs-doctag">@param</span>      callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getTimerTaskStatusWithDeviceId</span><span class="hljs-params">(String devId, <span class="hljs-keyword">final</span> IGetDeviceTimerStatusCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().getTimerTaskStatusWithDeviceId(mDevId, new IGetDeviceTimerStatusCallback() {
    @Override
    public void onSuccess(ArrayList&lt;TimerTaskStatus&gt; list) {
        Toast.makeText(mContext, &#x201C;obtaining states of timer tasks of a device succeeded&quot;, Toast.LENGTH_LONG).show();
    }
    @Override
    public void onError(String errorCode, String errorMsg) {
        Toast.makeText(mContext, &quot;obtaining states of timer tasks of a device failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
    }

});
</code></pre>
<h3 id="controlling-switch-status-of-all-timers-in-a-timer-task">Controlling Switch Status of all Timers in a Timer Task</h3>
<p><strong>[Description]</strong></p>
<p>Control switch status of all timers in a timer task.</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
* Control switch status of all timers in a timer task.
* <span class="hljs-doctag">@param</span> taskName    name of timer task
* <span class="hljs-doctag">@param</span> devId    device Id or group I
* <span class="hljs-doctag">@param</span> status   status value 1: on; 0: off
* <span class="hljs-doctag">@param</span>      callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateTimerTaskStatusWithTask</span><span class="hljs-params">(String taskName, String devId, <span class="hljs-keyword">int</span> status, <span class="hljs-keyword">final</span> IResultStatusCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().updateTimerTaskStatusWithTask(taskName, mDevId, 1, new IResultStatusCallback() {
    @Override
    public void onSuccess() {
        Toast.makeText(mContext, &#x201C;controlling switch status of all timers in a timer task succeeded&quot;, Toast.LENGTH_LONG).show();
    }
    @Override
    public void onError(String errorCode, String errorMsg) {
        Toast.makeText(mContext, &quot;controlling switch status of all timers in a timer task failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
    }

});
</code></pre>
<h3 id="controlling-switch-status-of-a-timer">Controlling Switch Status of a Timer</h3>
<p><strong>[Description]</strong></p>
<p>Control switch status of a timer.</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
* Control switch status of a timer.
* <span class="hljs-doctag">@param</span> taskName    name of timer task

* <span class="hljs-doctag">@param</span> devId    device Id or group Id
* <span class="hljs-doctag">@param</span> timerId  time clock Id
* <span class="hljs-doctag">@param</span> isOpen   switch
* <span class="hljs-doctag">@param</span>      callback
**/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateTimerStatusWithTask</span><span class="hljs-params">(String taskName, String devId, String timerId, <span class="hljs-keyword">boolean</span> isOpen, IResultStatusCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().updateTimerStatusWithTask(taskName, mDevId, timeId, false, new IResultStatusCallback() {
        @Override
        public void onSuccess() {
            Toast.makeText(mContext, &#x201C;controlling switch status of a timer succeeded&quot;, Toast.LENGTH_LONG).show();
        }

        @Override
        public void onError(String errorCode, String errorMsg) {
            Toast.makeText(mContext, &quot;controlling switch status of a timer failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
        }
    });
</code></pre>
<h2 id="removing-timer">Removing Timer</h2>
<p><strong>[Description]</strong></p>
<p>Removing timer</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
* Remove timer
* <span class="hljs-doctag">@param</span> taskName    name of timer task
* <span class="hljs-doctag">@param</span> devId    device Id or group Id
* <span class="hljs-doctag">@param</span> timerId  time clock Id
* <span class="hljs-doctag">@param</span>      callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">removeTimerWithTask</span><span class="hljs-params">(String taskName, String devId, String timerId, IResultStatusCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().removeTimerWithTask(taskName, mDevId, timeId, new IResultStatusCallback() {
    @Override
    public void onSuccess() {

       Toast.makeText(mContext, &#x201C;removing timer succeeded&quot;, Toast.LENGTH_LONG).show();
    }

    @Override
    public void onError(String errorCode, String errorMsg) {
        Toast.makeText(mContext, &quot;removing timer failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
    }

});
</code></pre>
<h3 id="updating-timer-status">Updating Timer Status</h3>
<p><strong>[Description]</strong></p>
<p>Updating timer status (this interface can modify all attributes of a timer)</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
* Update timer status.
* <span class="hljs-doctag">@param</span> taskName    name of timer task
* <span class="hljs-doctag">@param</span> loops    number of loops (daily and weekly transmission: &#x201D;1111111&#x201D;)
* <span class="hljs-doctag">@param</span> devId    device Id or group Id
* <span class="hljs-doctag">@param</span> timerId  time clock Id
* <span class="hljs-doctag">@param</span> dpId     id of dp point
* <span class="hljs-doctag">@param</span> time     timing time
* <span class="hljs-doctag">@param</span> isOpen      switching on or off 
* <span class="hljs-doctag">@param</span>      callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateTimerWithTask</span><span class="hljs-params">(String taskName, String loops, String devId, String timerId, String dpId, String time, <span class="hljs-keyword">boolean</span> isOpen, <span class="hljs-keyword">final</span> IResultStatusCallback callback)</span></span>;



<span class="hljs-comment">/**

 * Updating timer status

 * <span class="hljs-doctag">@param</span> taskName    name of timer task

 * <span class="hljs-doctag">@param</span> devId    device id or group Id

 * <span class="hljs-doctag">@param</span> timerId  time clock Id

 * <span class="hljs-doctag">@param</span> loops    number of loops

 * <span class="hljs-doctag">@param</span> instruct    dp point data for timing; only a single dp point is supported (json format); for example:   [{

 *                 &quot;time&quot;: &quot;20:00&quot;,

 *                 &quot;dps&quot;: {

 *                 &quot;1&quot;: true

 *                 }]

 * <span class="hljs-doctag">@param</span> callback

 */</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateTimerWithTask</span><span class="hljs-params">(String taskName, String loops, String devId, String timerId, String instruct, <span class="hljs-keyword">final</span> IResultStatusCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().updateTimerWithTask(taskName,&quot;0011001&quot;, mDevId, timeId,  &quot;[{&quot;time&quot;: &quot;20:00&quot;, &quot;dps&quot;: { &quot;1&quot;: true},{&quot;time&quot;: &quot;22:00&quot;,&quot;dps&quot;: {&quot;2&quot;: true}]&quot;,  new IResultStatusCallback() {
    @Override
    public void onSuccess() {
        Toast.makeText(mContext, &#x201C;updating timer attribute succeeded&quot;, Toast.LENGTH_LONG).show();
    }
    @Override
    public void onError(String errorCode, String errorMsg) {
        Toast.makeText(mContext, &quot;updating timer attribute failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
    }
});
</code></pre>
<h3 id="obtain-all-timers-of-timer-task">Obtain All Timers of Timer Task</h3>
<p><strong>[Description]</strong></p>
<p>Obtain all timers of timer task.</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
* Obtaining all timers of timer task.
* <span class="hljs-doctag">@param</span> taskName    name of timer task
* <span class="hljs-doctag">@param</span> devId    device Id or group Id
* <span class="hljs-doctag">@param</span>      callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getTimerWithTask</span><span class="hljs-params">(String taskName, String devId, <span class="hljs-keyword">final</span> IGetTimerWithTaskCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().getTimerWithTask(taskName, mDevId, new IGetTimerWithTaskCallback() {
    @Override
    public void onSuccess(TimerTask timerTask) {
        Toast.makeText(mContext, &#x201C;obtaining timers of timer tasks succeeded&quot;, Toast.LENGTH_LONG).show();
    }
    @Override
    public void onError(String errorCode, String errorMsg) {
        Toast.makeText(mContext, &quot;obtaining timers of timer tasks failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
    }
});
</code></pre>
<h3 id="obtaining-all-timers-of-all-timer-tasks-for-a-device">Obtaining All Timers of All Timer Tasks for a Device</h3>
<p><strong>[Description]</strong></p>
<p>Obtain all timers of all timer tasks for a device.</p>
<p><strong>[Method Invocation]</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">/**
* Obtaining all timers of all timer tasks for a device.
* <span class="hljs-doctag">@param</span> devId    device Id or group Id
* <span class="hljs-doctag">@param</span>      callback
*/</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getAllTimerWithDeviceId</span><span class="hljs-params">(String devId, <span class="hljs-keyword">final</span> IGetAllTimerWithDevIdCallback callback)</span></span>;
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre><code class="lang-java">TuyaHomeSdk.getTimerManagerInstance().getAllTimerWithDeviceId(mDevId, new IGetAllTimerWithDevIdCallback() {
    @Override
    public void onSuccess(ArrayList&lt;TimerTask&gt; taskArrayList) {
        Toast.makeText(mContext, &#x201C;obtaining timers for a device succeeded&quot;, Toast.LENGTH_LONG).show();
    }
    @Override
    public void onError(String errorCode, String errorMsg) {
        Toast.makeText(mContext, &quot;obtaining timers for a device failed&quot; + errorMsg, Toast.LENGTH_LONG).show();
    }
});
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Shared_Device_Rename.html" class="navigation navigation-prev " aria-label="Previous page: Modifying Remark Name">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Group.html" class="navigation navigation-next " aria-label="Next page: Group Management">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Timer task","level":"1.10","depth":1,"next":{"title":"Group Management","level":"1.11","depth":1,"path":"resource/Group.md","ref":"./resource/Group.md","articles":[]},"previous":{"title":"Modifying Remark Name","level":"1.9.3","depth":2,"path":"resource/Shared_Device_Rename.md","ref":"./resource/Shared_Device_Rename.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/Timer.md","mtime":"2019-03-12T02:03:54.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-06T06:20:12.578Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

